## 轮播图制作
轮播图也称为焦点图，是网页中比较常见的网页特效。
功能需求：
1.鼠标经过轮播图模块，左右按钮显示，离开则隐藏左右按钮；
2.点击右侧按钮一次，图片往左播放一张，以此类推，左侧按钮同理；
3.图片播放的同时，下面小圆圈模块跟随一起变化；
4.点击小圆圈，可以播放相应的图片；
5.鼠标不经过轮播图，轮播图也会自动播放图片；
6.鼠标经过轮播图模块，自动播放停止。

其他需求：
- 动态生成小圆圈
核心思路：小圆圈的个数要跟图片的张数一致；
所以首先先得到ul里面的图片张数（图片放入li里面，所以就是li个数）；
利用循环来生成小圆圈（小圆圈放在ol里面）
```js
    // 动态生成小圆圈
    // var images_list=ul.querySelectorAll('li');
    console.log(ul.children.length);
    for(var i=0;i<ul.children.length;i++){
        var li=this.document.createElement('li');
        ol_circle.appendChild(li);
    }
    // 把ol里面的第一个小li设置类名为current
    ol_circle.children[0].className='current';

```

- 无缝滚动的效果
把ul第一个li复制一份，放在ul的最后面
当图片滚动到克隆的最后一张图片时，让ul快速的，不做动画的跳到最左侧，left为0；
同时num赋值为0，可以从新开始滚动图片了。
```js
    // 声明一个记录变量
    var current_num=0;
    // 点击右侧按钮
    arrowr.addEventListener('click',function(){
        if(current_num== ul.children.length-1){
            current_num=0;
            ul.style.left=0+'px';
        }
        current_num+=1;
        // console.log(current_num);
        animate(ul,-focusWidth*current_num);
    })
```

- 用js克隆第一张图片
```js
    // 克隆第一张图片li放在ul最后面
    var firstpic_clone=ul.children[0].cloneNode(true);
    ul.appendChild(firstpic_clone);
```

- 节流阀
防止轮播图按钮连续点击造成的播放过快的问题。
节流阀的作用：当上一个函数动画内容执行完毕，
再去执行下一个函数动画，让事件无法连续触发。
核心实现思路：利用回调函数，添加一个变量来控制，
锁住函数和解锁函数。
```js
    //开始设置一个变量 
    var flag=true;
    if(flag){
        flag=false; //关闭水龙头
        do something
    }

    //利用回调函数，在动画执行完毕
    flag=true; //打开水龙头
```
